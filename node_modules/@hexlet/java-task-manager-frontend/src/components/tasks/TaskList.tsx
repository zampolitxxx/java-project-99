import { List, ReferenceInput, SelectInput, TextInput } from "react-admin";

import { TaskListContent } from ".";

const taskFilters = [
  // eslint-disable-next-line react/jsx-key
  <TextInput placeholder="Title" source="titleCont" alwaysOn />,

  <ReferenceInput fullWidth source="assigneeId" reference="users" alwaysOn>
    <SelectInput optionText="email" optionValue="id" />
  </ReferenceInput>,

  <ReferenceInput fullWidth source="status" reference="task_statuses" alwaysOn>
    <SelectInput optionText="name" optionValue="slug" />
  </ReferenceInput>,

  <ReferenceInput fullWidth source="labelId" reference="labels" alwaysOn>
    <SelectInput optionText="name" optionValue="id" />
  </ReferenceInput>,
];

export const TaskList = () => {
  return (
    <List
      filters={taskFilters}
      perPage={100}
      sort={{ field: "index", order: "ASC" }}
      pagination={false}
      component="div"
    >
      <TaskListContent />
    </List>
  );
};
